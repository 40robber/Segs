libname(ace ACE)
ExternalProject_Add(
   ACE_BUILD
   URL http://nemerle.eu/naked_ace.tar.gz
   SOURCE_DIR ${PROJECT_SOURCE_DIR}/3rd_party/naked_ace
   UPDATE_COMMAND ""
   INSTALL_DIR ${ThirdParty_Install_Dir}
   CMAKE_ARGS -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE} -DCMAKE_STAGING_PREFIX:PATH=${ThirdParty_Install_Dir}
   CMAKE_GENERATOR "${CMAKE_GENERATOR}"
   CMAKE_GENERATOR_TOOLSET ${CMAKE_GENERATOR_TOOLSET}
   BUILD_BYPRODUCTS ${ace_LIBRARY_SHARED}
)

ADD_LIBRARY(ace_IMP SHARED IMPORTED GLOBAL)
add_dependencies(ace_IMP ace_BUILD)
SET_PROPERTY(TARGET ace_IMP APPEND PROPERTY IMPORTED_LOCATION ${ace_LIBRARY_SHARED} )
SET_PROPERTY(TARGET ace_IMP APPEND PROPERTY IMPORTED_LOCATION_DEBUG ${ace_LIBRARY_SHARED_D} )
SET_PROPERTY(TARGET ace_IMP APPEND PROPERTY IMPORTED_LOCATION_RELEASE ${ace_LIBRARY_SHARED} )
