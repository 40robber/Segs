# $Id: CMakeLists.txt 270 2006-10-01 18:33:49Z nemerle $

SET(UNICODE )

IF(CMAKE_CXX_COMPILER MATCHES cl)
     IF(CMAKE_GENERATOR STREQUAL "Visual Studio 8 2005")
       SET(CMAKE_CXX_FLAGS_DEBUG " /D \"_CRT_SECURE_NO_WARNINGS\" ${CMAKE_CXX_FLAGS_DEBUG}"  )
       SET(CMAKE_CXX_FLAGS_RELEASE " /D \"_CRT_SECURE_NO_WARNINGS\" ${CMAKE_CXX_FLAGS_RELEASE}")
     ENDIF(CMAKE_GENERATOR STREQUAL "Visual Studio 8 2005")
ENDIF (CMAKE_CXX_COMPILER MATCHES cl)

# just testing 
OPTION(BUILD_SEPARATE "When set to 1 this will build each server as a separate executable file" ON)


# BOOST
FIND_PATH(BOOST_path object_pool.hpp
   /usr/local/include/boost
   /usr/local/include/boost/pool
   /usr/include/boost
   /usr/include/boost/pool
   /include/boost
   /include/boost/pool
)

FIND_PACKAGE(ACE REQUIRED) # ACE framework
FIND_PACKAGE(POSTGRE REQUIRED) # PostgreSQL
FIND_PACKAGE(ZLIB REQUIRED)
FIND_PACKAGE(Threads REQUIRED)
FIND_PACKAGE(SWIG)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${ZLIB_INCLUDE_DIR})
INCLUDE_DIRECTORIES(${ACE_path})
INCLUDE_DIRECTORIES(${PGSQL_path})
INCLUDE_DIRECTORIES(${BOOST_path})


ADD_SUBDIRECTORY(AdminServer)
ADD_SUBDIRECTORY(GameServer)
ADD_SUBDIRECTORY(MapServer)
ADD_SUBDIRECTORY(AuthServer)

EXPORT_LIBRARY_DEPENDENCIES(DEPENDENT.TXT)
